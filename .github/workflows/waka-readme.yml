name: Waka Readme

on:
  workflow_dispatch:
  schedule:
    - cron: '0 0 * * *'

jobs:
  update-readme:
    name: M√©tricas de Desenvolvimento WakaReadme
    runs-on: ubuntu-latest
    steps:
      # Checkout do reposit√≥rio para garantir que o README.md existe
      - name: Checkout do c√≥digo
        uses: actions/checkout@v3

      # Atualizar o README.md com WakaReadme
      - uses: athul/waka-readme@master
        with:
          WAKATIME_API_KEY: ${{ secrets.WAKATIME_API_KEY }}
          SHOW_TITLE: true
          BLOCKS: "‚¨úüü®üü©"
          TIME_RANGE: last_30_days
          SHOW_TIME: true
          SHOW_MASKED_TIME: true

      # Verificar se o arquivo README.md est√° no diret√≥rio
      - name: Verificar arquivos no diret√≥rio
        run: ls -la

      # Traduzir o conte√∫do do README.md para PT-BR
      - name: Traduzir sa√≠da para PT-BR
        run: |
          sed -i 's/From:/De:/' README.md
          sed -i 's/To:/At√©:/' README.md
          sed -i 's/Total Time:/Tempo Total:/' README.md
